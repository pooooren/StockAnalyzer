<!doctype html>
<html lang="en">
<head>
    <script type="text/javascript" src="js/jquery-2.1.3.js"></script>
    <script type="text/javascript" src="js/highstock.js"></script>
    <script type="text/javascript" src="js/modules/exporting.js"></script>
     <script type="text/javascript" src="js/chu/chu_main_chart.js"></script>
    <script>
        $(function () {
			$("#startdateradio").click(function(){
				var ss=$("input[name='startdate']:checked").val();
				$("#start").val(ss);
			});
			
            $("#GoButton").click(function () {
                var stock = $("#stock").val();
                var url = "/rest/rest/info/id/" + stock;
                var t = $.getJSON(url, function (data) {

                    var liststr = data["list"];

                    var list = liststr.split(",");
                    var opt="";
                    for (var a in list) {
                        opt += "<option>" + list[a] + "</option>";
                    }
                    $("#BigSelect").empty();
                    $("#BigSelect").append(opt);
					var name=t.responseJSON["name"];
					var namestring="<a href='http://stockpage.10jqka.com.cn/"+stock.substring(2)+"'>"+name+"</a>";
					
                    $("#name").html(namestring);

                    var first = t.responseJSON["firstlevel"];
                    var second = t.responseJSON["secondlevel"];
                    var location = t.responseJSON["location"];
                    $('#industry1').attr('href', '/web/company.html?industry1=' + first);
                    $('#industry1').text(first);

                    $('#industry2').attr('href', '/web/company.html?industry1=' + first + '&industry2=' + second);
                    $('#industry2').text(second);

                    $('#location').attr('href', '/web/company.html?location=' + location);
                    $('#location').text(location);
                });
            });

            $("#QueryButton").click(function () {
                var seriesOptions,
                    yAxisOptions = [],
                    seriesCounter = 0,

                    colors = Highcharts.getOptions().colors;

                var stock = $("#stock").val();
                var type = $("#TypeSelect  option:selected").text();
                var big = $("#BigSelect  option:selected").text();
                var start = $("#start").val();

                chu_main_chart.showchart(stock, big, type, start);
                

                }); //ajax
            });
    </script>
</head>
<body>
    <div id="input">
        <input id="stock" type="text" value="sh600000" />
        <input id="start" type="text" value="20140101" />
        <select id="TypeSelect"><option>w</option><option>m</option><option>d</option></select>
        <select id="BigSelect"><!--<option>2000</option><option>1000</option><option>500</option><option>3000</option><option>4000</option><option>750</option><option>1500</option>--></select>
        <input id="GoButton" type="button" value="Go" />
        <input id="QueryButton" type="button" value="Query" />

        <label id="name"></label>
        <a id="industry1" target='_parent' href=""></a>
        <a id="industry2" target='_parent' href=""></a>
        <a id="location" target='_parent' href=""></a>
		<div id="startdateradio">
			<input type="radio" name="startdate" value="20130101" checked="checked"> 20130101</input>
			<input type="radio" name="startdate" value="20140101" >20140101</input>
			<input type="radio" name="startdate" value="20140601" >20140601</input>
		</div>
        <!--<div id="industry1"></div>
        <div id="industry2"></div>-->

    </div>

    <div id="container" style="min-width:500px;height:300px"></div>
    <div id="container2" style="min-width:500px;height:300px"></div>
</body>
</html>